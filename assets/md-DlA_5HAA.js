import{_ as p}from"./slidev/VClick-Do5EEL-y.js";import{_ as d}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-6G2gGtH7.js";import{b as o,o as D,w as l,g as i,e as t,m as E,ad as s,v as g,x as m,T as n}from"./modules/vue-OkAsPQIG.js";import{I as c}from"./slidev/default-DVM5K6QC.js";import{u,f as y}from"./slidev/context-BIVK2-TZ.js";import"./index-CcHMgaCu.js";import"./modules/shiki-CfoU35ru.js";import"./slidev/VClicks-DOGu6btv.js";import"./modules/unplugin-icons-CalMxMul.js";import"./slidev/TitleIcon.vue_vue_type_script_setup_true_lang-COtJCVlW.js";const v={__name:"slides.md__slidev_24",setup(A){const{$clicksContext:k,$frontmatter:r}=u();return k.setup(),(f,a)=>{const h=d,e=p;return D(),o(c,g(m(n(y)(n(r),23))),{default:l(()=>[a[5]||(a[5]=i("h2",null,"Dockerfile",-1)),a[6]||(a[6]=i("br",null,null,-1)),t(h,E({maxHeight:"180px"},{title:"",ranges:["none","7,9","10","12,15-18","20"]}),{default:l(()=>[...a[0]||(a[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-dockerfile"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"FROM"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," bellsoft/liberica-runtime-container:jdk-25-musl "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"as"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," builder")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"RUN"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," apk add --no-cache nodejs npm")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"WORKDIR"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," /app")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"ADD"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," . /app/neurowatch")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"RUN"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," cd neurowatch && ./mvnw -Pproduction clean package")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"FROM"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," bellsoft/liberica-runtime-container:jre-25-musl "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"as"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," optimizer")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"WORKDIR"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," /app")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"COPY"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," --from=builder /app/neurowatch/target/neurowatch-*.jar app.jar")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"RUN"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," java -Djarmode=tools -jar /app/app.jar extract --layers --destination extracted")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"FROM"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," bellsoft/liberica-runtime-container:jre-25-slim-musl")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"WORKDIR"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," /app")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"COPY"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," --from=optimizer /app/extracted/dependencies/ ./")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"COPY"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," --from=optimizer /app/extracted/spring-boot-loader/ ./")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"COPY"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," --from=optimizer /app/extracted/snapshot-dependencies/ ./")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"COPY"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," --from=optimizer /app/extracted/application/ ./")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"EXPOSE"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," 8080")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"ENTRYPOINT"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," ["),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"java"'),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"-jar"'),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"/app/app.jar"'),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"]")])])],-1)])]),_:1},16),t(e,{at:"1"},{default:l(()=>[...a[1]||(a[1]=[i("ul",null,[i("li",null,"Intermediate optimizer stage")],-1)])]),_:1}),t(e,{at:"2"},{default:l(()=>[...a[2]||(a[2]=[i("ul",null,[i("li",null,"Extract layers")],-1)])]),_:1}),t(e,{at:"3"},{default:l(()=>[...a[3]||(a[3]=[i("ul",null,[i("li",null,"Copy layers into the final image")],-1)])]),_:1}),t(e,{at:"4"},{default:l(()=>[...a[4]||(a[4]=[i("ul",null,[i("li",null,"Run as usual")],-1)])]),_:1})]),_:1},16)}}};export{v as default};
